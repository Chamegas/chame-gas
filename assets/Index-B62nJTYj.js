import{d as h,c as d,o as r,a as t,t as m,_ as I,b as q,F as w,r as C,e as D,f,C as R,g as V,h as N,i as O,w as E,u as k,j as F,m as x,k as A,l as L,P as Z,n as U}from"./index-Bd-63S3H.js";import{_ as P}from"./InputLabel.vue_vue_type_style_index_0_lang-D9qC74R3.js";const j={class:"product__info"},z={class:"product__info-title"},W={class:"product__info-description"},G={class:"product__image"},H={class:"product__image-container"},J=["src","alt"],K=h({__name:"Product",props:{onProductSelect:{type:Function},id:{},title:{},description:{},image:{},imageAlt:{}},setup(c){const e=c;return(o,i)=>(r(),d("div",{class:"product",onClick:i[0]||(i[0]=l=>e.onProductSelect())},[t("div",j,[t("div",z,m(e.title),1),t("div",W,m(e.description),1)]),t("div",G,[t("div",H,[t("img",{src:e.image,alt:e.imageAlt},null,8,J)])])]))}}),Q=I(K,[["__scopeId","data-v-8c4d8d6b"]]),X="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='26px'%20viewBox='0%20-960%20960%20960'%20width='26px'%20fill='%23000000'%3e%3cpath%20d='m336-280%20144-144%20144%20144%2056-56-144-144%20144-144-56-56-144%20144-144-144-56%2056%20144%20144-144%20144%2056%2056ZM480-80q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480q0-83%2031.5-156T197-763q54-54%20127-85.5T480-880q83%200%20156%2031.5T763-763q54%2054%2085.5%20127T880-480q0%2083-31.5%20156T763-197q-54%2054-127%2085.5T480-80Zm0-80q134%200%20227-93t93-227q0-134-93-227t-227-93q-134%200-227%2093t-93%20227q0%20134%2093%20227t227%2093Zm0-320Z'/%3e%3c/svg%3e",Y={class:"radioInput"},ee=["name","required","value","checked","onChange"],te={class:"radioInput__item-label"},oe=h({__name:"RadioInput",props:{isRequired:{type:Boolean},id:{},labelText:{},labelValues:{},options:{},markedOption:{type:[String,Number,Boolean]},checkName:{}},emits:["update:markedOption"],setup(c,{emit:e}){const o=c,i=e,l=s=>{i("update:markedOption",s)};return(s,a)=>(r(),d("div",Y,[q(P,{"is-required":o.isRequired,"label-text":o.labelText},null,8,["is-required","label-text"]),(r(!0),d(w,null,C(o.options,(u,p)=>(r(),d("div",{class:"radioInput__item",key:p},[t("input",{name:o.checkName,required:o.isRequired,class:"radioInput__item-check",type:"radio",value:u,checked:s.markedOption===u,onChange:g=>l(u)},null,40,ee),t("label",te,m(o.labelValues[p]),1)]))),128))]))}}),ne=I(oe,[["__scopeId","data-v-d023aac0"]]),se={class:"dateInput"},ae={class:"dateInput__input"},ie=["type","value","required","id","min","max"],re={key:0,class:"dateInput__input-error"},de=h({__name:"DateInput",props:{isErro:{type:Boolean},isRequired:{type:Boolean},id:{},labelText:{},dateType:{},value:{},errorMessage:{},minDate:{},maxDate:{}},emits:["update:value"],setup(c,{emit:e}){const o=c,i=e,l=s=>{const a=s.target;i("update:value",a.value)};return(s,a)=>(r(),d("div",se,[q(P,{"is-required":o.isRequired,id:o.id,"label-text":o.labelText},null,8,["is-required","id","label-text"]),t("div",ae,[t("input",{type:o.dateType,value:o.value,onChange:l,required:o.isRequired,id:o.id??"",min:o.minDate??void 0,max:o.maxDate??void 0},null,40,ie),o.isErro?(r(),d("span",re,m(o.errorMessage),1)):D("",!0)])]))}}),ce=I(de,[["__scopeId","data-v-600135fb"]]),le={class:"productForm__container-topAction"},ue=["src"],pe={class:"productForm__container-content"},_e={class:"productForm__content-img"},me=["src","alt"],ve={class:"productForm__content-principal"},fe={class:"productForm__principal-info"},he={class:"productForm__principal-info-title"},Ie={class:"productForm__principal-info-description"},ge={class:"productForm__content-form"},xe={class:"productForm__content-final"},ke={class:"productForm__final-price"},Fe=h({__name:"ProductForm",props:{onClose:{type:Function},productInfo:{},radioInput:{},dateInput:{},price:{},fullPrice:{}},setup(c){var b;const e=c,o=()=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),i=f(!1),l=new R,s=f(((b=e.dateInput)==null?void 0:b.value)||""),a=f(e.radioInput.markedOption),u=V(()=>a.value?o().format(e.price):o().format(e.fullPrice)),p=f(!1);N(()=>{g(),window.addEventListener("resize",g)}),O(()=>{window.removeEventListener("resize",g)});const g=()=>{p.value=window.innerWidth<768},T=()=>a.value==!1?!0:!i.value&&a.value==!0,B=v=>{v.preventDefault(),T()&&(l.addProductToCart({id:e.productInfo.id,isComplete:!a.value,validity:s.value===""?null:s.value}),e.onClose())};return E(()=>s.value,v=>{var n;if(v){const[_,S]=v.split("-").map(Number),M=new Date,y=new Date(_,S-1),$=(n=e.dateInput)!=null&&n.maxDate?new Date(e.dateInput.maxDate):null;i.value=M>=y||$!==null&&y>=$}else i.value=!1}),(v,n)=>(r(),d("div",{class:"productForm",onClick:n[4]||(n[4]=_=>e.onClose())},[t("form",{onSubmit:B,class:"productForm__container",onClick:n[3]||(n[3]=L(()=>{},["stop"]))},[t("div",le,[t("img",{src:k(X),alt:"x",onClick:n[0]||(n[0]=_=>e.onClose())},null,8,ue)]),t("div",pe,[t("div",_e,[t("img",{src:e.productInfo.image,alt:e.productInfo.imageAlt},null,8,me)]),t("div",ve,[t("div",fe,[t("div",he,m(e.productInfo.title),1),t("div",Ie,m(e.productInfo.description),1)]),t("div",ge,[q(ne,x(e.radioInput,{"marked-option":a.value,"onUpdate:markedOption":n[1]||(n[1]=_=>a.value=_)}),null,16,["marked-option"]),e.dateInput&&a.value?(r(),F(ce,x({key:0},e.dateInput,{value:s.value,"onUpdate:value":n[2]||(n[2]=_=>s.value=_),isErro:i.value}),null,16,["value","isErro"])):D("",!0)]),t("div",xe,[t("div",ke,[n[5]||(n[5]=A(" Valor: ")),t("span",null,m(u.value),1)]),n[6]||(n[6]=t("div",{class:"productForm__final-action"},[t("button",{type:"submit"},"Adicionar ao carrinho")],-1))])])])],32)]))}}),qe=I(Fe,[["__scopeId","data-v-87d38538"]]),be={key:0,class:"index"},ye={class:"index-content"},$e={class:"product-container"},we=h({__name:"Index",setup(c){let e={};const o=f(!1),i=s=>{e=U[s],o.value=!0},l=()=>{o.value=!1};return(s,a)=>o.value?(r(),F(qe,x({key:1},k(e),{onClose:l}),null,16)):(r(),d("div",be,[t("div",ye,[a[0]||(a[0]=t("div",{class:"title"},[t("h1",null,"Faça já seu pedido")],-1)),t("div",$e,[(r(!0),d(w,null,C(k(Z),(u,p)=>(r(),F(Q,x({key:p,ref_for:!0},u,{onProductSelect:()=>i(p)}),null,16,["onProductSelect"]))),128))])])]))}}),Pe=I(we,[["__scopeId","data-v-d0965bd6"]]);export{Pe as default};
